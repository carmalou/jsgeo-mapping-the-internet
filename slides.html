<!DOCTYPE html>
<html>

<head>
<title>Mapping the Internet</title>
<meta charset="utf-8">
<style>
@import url(https://fonts.googleapis.com/css?family=Yanone+Kaffeesatz);
@import url(https://fonts.googleapis.com/css?family=Droid+Serif:400,700,400italic);
@import url(https://fonts.googleapis.com/css?family=Ubuntu+Mono:400,700,400italic);

body {
    font-family: 'Droid Serif';
}

h1,
h2,
h3 {
    font-family: 'Yanone Kaffeesatz';
    font-weight: normal;
}

a {
    color: #a07cc0;
}

li {
    font-size: 24pt;
}

.remark-code,
.remark-inline-code {
    font-family: 'Ubuntu Mono';
}

.inverse {
    background: #000;
    color: #fff;
}

.remark-slide-content {
    background-size: contain;
    background-position: center;
    background-repeat: no-repeat;
}

.stripe {
    height: 5px;
    width: 100%;
    background-color: indigo;
    border-top: 1px solid rebeccapurple;
    border-bottom: 1px solid rebeccapurple;
    position: absolute;
    margin-top: 125px;
    left: 0;
    right: 0;
}

.remark-slide-right {
    bottom: 12px;
    position: absolute;
    left: 20px;
}

.carmalou {
    color: #CCBADC;
}

img {
    max-width: 100%;
    height: auto;
}
</style>
</head>

<body>
<textarea id="source">

class: center, middle, inverse, inverse

# Mapping the Internet

![alt text](./img/margie-map.png "MargieMap")
---
class: center, middle, inverse, inverse

# Mapping the Internet

![alt text](./img/margie-map.png "MargieMap")

???
Hey everyone. I'm super excited to talk to you about this today.

MargieMap is a pet-project of mine where I track income in relation to surrounding libraries. I'm really excited to share the inspirations behind the map, how I built it, and what I found.
---
layout: false
class: center, middle, inverse
# Carmen Bourlon
## [margiemap.com](https://www.margiemap.com)
## Twitter: [@carmalou](https://twitter.com/carmalou)
## Let's Take This Offline: [serviceworkerbook.com](https://serviceworkerbook.com)

???
My name is Carmen and I'm a full stack developer in Oklahoma City. I'm the author of "Let's Take This Offline", a book about service workers, and I have a really strong interest in offline tech in general. That's a big part of the reason I chose to build MargieMap.
---
class: left,middle,inverse

```javascript
// what we're talking about today

var Acts = [ "Why", "What", "How", "The Findings", "The Future" ];
```

???
---
class: center,middle,inverse

# Acts[0]: Why

???
Before I explain what I did or how I did it, I think it makes a lot of sense to talk about the "Why" behind the project.
---
class: center,middle,inverse

# The Internet is kind of a big deal

![alt text](./img/anchorman.gif "Internet is 'kind of' a big deal")

???
Can you raise your hand if you were online today? 

It's kind of unfair since I'm talking to a room full of tech people, but it holds true for basically every industry today. And perhaps even more so outside of work.

So let's ask another question: could you raise your hand if you *didn't* go online at all last weekend?

And then last question ... who in here *doesn't* have a smartphone they use to access the internet?
---
class: left,middle,inverse

# Internet and Smartphones

???
We can't really talk about the Internet without also talking about smartphones. Since their inception smartphones have become ubiquitous with being online, and a lot of people will access the internet without even realizing they access it -- according to a Pew Study. (FIND THIS STUDY)
---
class: left,middle,inverse

# Internet and Smartphones

* 77% of Americans have smartphones

<sub>Source: [http://www.pewinternet.org/fact-sheet/mobile/](http://www.pewinternet.org/fact-sheet/mobile/)</sub>
---
class: left,middle,inverse

# Internet and Smartphones

* 77% of Americans have smartphones
* 20% are "smartphone-dependent"

<sub>Source: [http://www.pewinternet.org/fact-sheet/mobile/](http://www.pewinternet.org/fact-sheet/mobile/)</sub>
---
class: left,middle,inverse

# Internet and Smartphones

* 77% of Americans have smartphones
* 20% are "smartphone-dependent"
* Smartphone, but no internet at home

<sub>Source: [http://www.pewinternet.org/fact-sheet/mobile/](http://www.pewinternet.org/fact-sheet/mobile/)</sub>
---
class: left,middle,inverse

# Internet and Smartphones

* 77% of Americans have smartphones
* 20% are "smartphone-dependent"
* Smartphone, but no internet at home
* Smartphone, but no internet nearby

<sub>Source: [http://www.pewinternet.org/fact-sheet/mobile/](http://www.pewinternet.org/fact-sheet/mobile/)</sub>
---
class: left,middle,inverse

# Internet and Smartphones

* 77% of Americans have smartphones
* 20% are "smartphone-dependent"
* Smartphone, but no internet at home
* Smartphone, but no internet nearby
* Both

<sub>Source: [http://www.pewinternet.org/fact-sheet/mobile/](http://www.pewinternet.org/fact-sheet/mobile/)</sub>
---
class: left, middle, inverse, inverse

# Predictors of limited access

- Age:
- 28% aged 18-29 are smartphone-dependent

<sub>Source: [http://www.pewinternet.org/fact-sheet/mobile/](http://www.pewinternet.org/fact-sheet/mobile/)</sub>
---
class: left, middle, inverse, inverse

# Predictors of limited access

- Ethnicity:
- 35% of Latino Americans are smartphone-dependent
- 24% of Black Americans are smartphone-dependent

<sub>Source: [http://www.pewinternet.org/fact-sheet/mobile/](http://www.pewinternet.org/fact-sheet/mobile/)</sub>
---
class: left, middle, inverse, inverse

# Predictors of limited access

- Income: 
- Nearly 1/3 of people with income under 30k are smartphone-dependent

<sub>Source: [http://www.pewinternet.org/fact-sheet/mobile/](http://www.pewinternet.org/fact-sheet/mobile/)</sub>
---
class: left, middle, inverse, inverse

# So what does it all mean?

???
After I read the Pew study about individuals who struggle to remain connected, I can't say I was super surprised. It can cost upwards of $200/month for someone to connect to the internet. But all of this information did lead me to wonder, how do libraries fit into this?
---
class: center,middle,inverse

# Acts[1]: What
---
class: center,middle,inverse

# We know that individuals who make less than $30k/yr are more likely to be smartphone dependent.
---
class: center,middle,inverse

# But ... how do libraries fit into this?

???
You might be wondering ... why libraries? Libraries are one of the few places where someone can go and access the internet and just *be*. It doesn't cost money to get in or stay and there are resources beyond the internet. And unlike a lot of places that provide internet along with your meal or coffee, you have to have laptop to be able to use the internet. The library has computers available for use.
---
class: left,middle,inverse

# My theory: 

# Communities with median incomes at or under $30k will have fewer libraries.
---
class: center,middle,inverse

# Acts[2]: How
---
class: left,middle,inverse

# The Plan:
---
class: left,middle,inverse

# The Plan:

1. Gather Census Data to find income by area
---
class: left,middle,inverse

# The Plan:

1. Gather Census Data to find income by area
1. Gather Library Data to find libraries by area
---
class: left,middle,inverse

# The Plan:

1. Gather Census Data to find income by area
1. Gather Library Data to find libraries by area
1. Put them on a map
---
class: center,middle,inverse

# Sounds easy, right?

![alt text](./img/laughing.gif "Have a laugh at my expense.")

???
This is where I should mention that, at this point in time, I had very little experience with geo. I knew JavaScript really well, but I didn't know much about geo, much less about census data or any of what was to come. But I've never been a person to think, "oh I can't do that." I generally think, "oh that doesn't sound _that_ hard. I can probably figure it out."
---
class: left,middle,inverse

# Census Data

* [https://factfinder.census.gov](https://factfinder.census.gov)
---
class: center,middle,inverse

![alt text](./img/census-data.png "really ugly census data.")

???
Has anyone in here ever worked with gov't data?

It's pretty rough, right?

In my case, I had to figure out how to line up the geo id to the corresponding polygon. Also this particular spreadsheet had 53 columns, and it was probably an average-sized spreadsheet. I ended up with probably 8-10 spreadsheets, so it was quite a bit of data to sort through.
---
class: left,middle,inverse

# Polygon Data
---
class: left,middle,inverse

# Polygon Data

* [http://eric.clst.org/tech/usgeojson/](http://eric.clst.org/tech/usgeojson/)
---
class: left,middle,inverse

# This is where it got really interesting:
---
class: left,middle,inverse

# This is where it got really interesting:

1. I initially could only find shapefiles
---
class: left,middle,inverse

# This is where it got really interesting:

1. I initially could only find shapefiles
1. Those were converted to geojson
---
class: left,middle,inverse

# This is where it got really interesting:

1. I initially could only find shapefiles
1. Those were converted to geojson
1. Combined income data with geojson data

???
And this is where things got _really_ interesting. I was hoping to upload geojson to mapbox but as it would turn out, the geojson was too big to be uploaded! Also, I ran out of memory at one point while I was running the script to combine the income data with the polygon data. So that was fun.
---
class: left,middle,inverse

# This is where it got really interesting:

1. I initially could only find shapefiles
1. Those were converted to geojson
1. Combined the income data with the geojson data
1. [Tippecanoe](https://github.com/mapbox/tippecanoe) to convert the geojson to maptiles

???
As it turned out, maptiles were the way to go as far as size, and fortunately tippecanoe has a CLI tool that made the conversion pretty easy. I didn't get there right away though. First I tried making smaller geojson files -- even by state! But it was a pretty difficult way to go about things. Once I tried using tippecanoe, things got a lot easier.
---
class: left,middle,inverse

# This is where it got really interesting:

1. I initially could only find shapefiles
1. Those were converted to geojson
1. Combined the income data with the geojson data
1. [Tippecanoe](https://github.com/mapbox/tippecanoe) to convert the geojson to maptiles
1. Find [GeoJSON](https://www.imls.gov/) for libraries!

???
There is this fantastic institute for libraries and museums that had geojson already (no conversion!) of the libraries in the US.
---
class: left,middle,inverse

# This is where it got really interesting:

1. I initially could only find shapefiles
1. Those were converted to geojson
1. Combined the income data with the geojson data
1. [Tippecanoe](https://github.com/mapbox/tippecanoe) to convert the geojson to maptiles
1. Find [GeoJSON](https://www.imls.gov/) for libraries!
1. Upload it all to [Mapbox](link)!
---
class: center,middle,inverse

# Acts[3]: The Findings

???
Once I had all the data on the map, I was able to start using Turf to figure out which counties have the fewest libraries and compare that to the income of the county.
---
class: left,middle,inverse

# Finding the libraries in a polygon

```JavaScript
// the list of libraries
var points = turf.points([ / ... / ]);

// the polygon to search
var searchWithin = turf.polygon([ / ... / ]);

// an array containing all of the points found within the polygon
var ptsWithin = turf.pointsWithinPolygon(points, searchWithin);
```
<sub>Source: [http://turfjs.org/docs/#pointsWithinPolygon](http://turfjs.org/docs/#pointsWithinPolygon)</sub>
---
class: center, middle, inverse, inverse

# The million dollar question:
# Is there any correlation <br /> between income and library access?
---
class: center, middle, inverse

# So far, yes
---
class: left, middle, inverse

# What I've found:

## - Top 10 Counties for income: 166 libraries total
## - Bottom 10 Counties for income: 16 libraries total

???
---
class: left, middle, inverse

# What I've found:

## Counties under $30k:
## - 81 counties under $30k
## - Median number of libraries: 1

???
The gap becomes even more apparent when we look at only counties below the poverty line -- those counties all have less than 5 libraries.
---
class: left, middle, inverse

# What I've found:

## Counties over $100k:
## - 19 counties over $100k
## - Median number of libraries: 5
---
class: center,middle,inverse

# Acts[4]: The Future
---
class: center,middle,inverse

# Look at homes with computers
---
class: center,middle,inverse

# Look at homes with computers
# Look at homes with internet
---
class: center,middle,inverse

# Look at homes with computers
# Look at homes with internet
# Control for population
---
class: center, middle, inverse
# Carmen Bourlon
## [MargieMap.com](https://www.margiemap.com)
## Twitter: [@carmalou](https://twitter.com/carmalou)
## Let's Take This Offline: [serviceworkerbook.com](https://serviceworkerbook.com)

</textarea>
<script src="./content/remark-latest.min.js"></script>
<script>
var slideshow = remark.create();
var arr = document.getElementsByClassName('remark-slide-content');
for (var i = 0; i < arr.length; i++) {
    var tmpEl = document.createElement('div');
    var innerLink = document.createElement('a');
    innerLink.setAttribute('href', 'https://twitter.com/carmalou');
    var innerText = document.createTextNode('Twitter: carmalou');
    tmpEl.classList.add('remark-slide-right');
    innerLink.classList.add('carmalou');
    innerLink.appendChild(innerText);
    tmpEl.appendChild(innerLink);
    arr[i].appendChild(tmpEl);
}
</script>
</body>

</html>